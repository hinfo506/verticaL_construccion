<odoo>
    <data>

        <record model="ir.actions.server" id="action_purchase_stage">
            <field name="name">Enviar a Compra</field>
            <field name="model_id" ref="project_vertical_building.model_vertical_stage"/>
            <field name="binding_model_id" ref="project_vertical_building.model_vertical_stage"/>
            <field name="state">code</field>
            <field name="code">
                #if records:
                # action = records.purchase_from_stage()
                record.purchase_from_stage()
            </field>
        </record>

        <record model="ir.actions.server" id="action_purchase_item">
            <field name="name">Enviar a Compra</field>
            <field name="model_id" ref="project_vertical_building.model_vertical_item"/>
            <field name="binding_model_id" ref="project_vertical_building.model_vertical_item"/>
            <field name="state">code</field>
            <field name="code">
                record.purchase_from_item()
            </field>
        </record>

    </data>
</odoo>