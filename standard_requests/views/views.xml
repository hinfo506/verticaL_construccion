<odoo>
  <data>
 
    <record model="ir.ui.view" id="standard_tags_list">
      <field name="name">standard Tags</field>
      <field name="model">standard.tags</field>
      <field name="arch" type="xml">
        <tree editable='bottom'>
          <field name="parent_id"/>
          <field name="name" required="True"/>
          <field name="complete_name" invisible="1"/>
          <field name="analytic_id"/>

        </tree>
      </field>
    </record>

    <record model="ir.actions.act_window" id="standard_tags_action_window">
      <field name="name">Standard Tags</field>
      <field name="res_model">standard.tags</field>
      <field name="view_mode">tree</field>
    </record>


    <record model="ir.ui.view" id="standard_list">
      <field name="name">standard list</field>
      <field name="model">standard</field>
      <field name="arch" type="xml">
        <tree>
          <field name="name"/>

            <field name='parent_path' invisible="1"/>
          <field name="parent_id"/>
        </tree>
      </field>
    </record>
 
    <record model="ir.ui.view" id="standard_form">
      <field name="name">Standard</field>
      <field name="model">standard</field>
      <field name="arch" type="xml">
        <form>
          <sheet>
            <div class="oe_title">
              <label class="o_form_label" for="name"  />
                <h1>
                    <field name="name" required="1"/>
                </h1>
            </div>
            <group>
              <group>
                <field name='parent_id'/>
                <field name='ref_proyecto'/>
                <field name='ref_etapa'/>
              </group>
              <group>
                <field name='is_purchase'/>
                <field name='is_warehouse'/>
              </group>
            </group>
            <field name='parent_path' invisible="1"/>
            <field name="line_ids">
                <tree editable="bottom">
                    <field name="standard_id" invisible="1"/>
                    <field name="product_id"/>
		    <field name="descripcion"/>
                    <field name="qty"/>
                    <field name="uom_id"/>
                </tree>
                <form>
                    <sheet string="Standar Lineas">
                        <group col="4">
                            <field name="standard_id" invisible="1"/>
                            <field name="product_id"/>
                            <field name="qty"/>
                            <field name="uom_id" />
                        </group>
                    </sheet>
                </form>
            </field>
          </sheet>
        </form>
      </field>
    </record>
    
    <record model="ir.actions.act_window" id="standard_action_window">
      <field name="name">Standard</field>
      <field name="res_model">standard</field>
      <field name="view_mode">tree,form</field>
    </record>
    
    <record model="ir.ui.view" id="standard_request_list">
      <field name="name">Standard Requet</field>
      <field name="model">standard.request</field>
      <field name="arch" type="xml">
        <tree>
          <field name="name"/>
          <field name="standard_id"/>
          <field name="tag_id"/>
          <field name="create_uid"/>
          <field name="state"/>
        </tree>
      </field>
    </record>
 
    <record model="ir.ui.view" id="standard_request_form">
      <field name="name">Standard Request</field>
      <field name="model">standard.request</field>
      <field name="arch" type="xml">
          <form>
            <header>
              <button name="calc_stock" string="Comprobar Disponibilidad" type="object" states="draft"/>
              <button name="action_validate" string="Validar" type="object" states="draft" class="oe_button" />
              <button name="action_cancel" string="Cancelar" type="object" states="draft,validate"/>

              <field name="state" widget="statusbar" statusbar_visible="draft,validate"/>
            </header>
            <sheet>
                <div class="oe_title">
                    <h1>
                        <field name="name"/>
                    </h1>
                </div>
                
                <group>
                    <group>
                        <field name="tag_id"  options="{&quot;no_open&quot;: True, &quot;no_create&quot;: True}"/>

                        <field name="partner_id" />
                        <field name="picking_id" readonly="1"/>
                        <field name="picking_state" string="Estado del Conduce" invisible="1"/>
                        <field name="create_uid"/>
                    </group>

                    <group>
                        
                        <field name="date"/>
                        <field name="date_validation" attrs="{'invisible': [('date_validation', '=', False)]}"/>
			<label for="standard_id"/>
			<div class="oe_row">
                           <field name="standard_id" domain="[('is_warehouse', '=', True)]"/>

			   <button name="get_standard_lines" type="object" string="Cargar Standard" class="oe_link oe_edit_only oe_inline" states="draft" />
		        </div>
                    </group>
                </group>
                
                <field name="line_ids" readonly="1">
                    <tree editable="bottom">
                        <field name="request_id" invisible="1"/>
                        <field name="product_id"/>
                        <field name="qty"/>
                        <field name="qty_done"/>
                        <field name="uom_id"/>
                        <field name="stock" readonly="1"/>
                    </tree>
                    <form>
                        <sheet string="Standar Lineas">
                            <group col="4">
                                <field name="product_id"/>
                                <field name="qty"/>
                                <field name="uom_id" />
                            </group>
                        </sheet>
                    </form>
                </field>
                <field name="note" placeholder="Notas. . ."/>
            </sheet>
        </form>
      </field>
    </record>
    
    <record id="standard_request_filter" model="ir.ui.view">
         <field name="name">account.invoice.select</field>
         <field name="model">standard.request</field>
         <field name="arch" type="xml">
             <search string="Search Standard Requests">
                 <field name="name" string="Standard Requests" filter_domain="[('name','ilike',self)]"/>
                 
                 <separator/>
                 <filter name="draft" string="Borrador" domain="[('state','=','draft')]"/>
                 <filter name="validate" string="Validado" domain="[('state', '=', 'validate')]"/>

   
                 <group expand="0" string="Group By">
                     <filter string="Standard" name="standard_id" context="{'group_by':'standard_id'}"/>
                     <filter string="Etiqueta" name="tagid" context="{'group_by':'tag_id'}"/>
                 </group>
            </search>
         </field>
     </record>
    
    <record model="ir.actions.act_window" id="standard_request_action_window">
      <field name="name">Standard Request</field>
      <field name="res_model">standard.request</field>
      <field name="view_mode">tree,form</field>
      <field name="search_view_id" ref="standard_request_filter"/>
    </record>
       
       
        <!-- Top menu item -->
    <menuitem name="Standard Request" id="menu_root"/>

    <!-- menu categories -->
    <menuitem name="Standard" id="menu_requets" parent="menu_root" sequence="1"
              action="standard_request_action_window"/>
    <menuitem name="Configuracion" id="menu_config" parent="menu_root" sequence="50" />

    <!-- actions -->
    <menuitem name="Standard" id="config_standard" parent="menu_config"
              action="standard_action_window"/>

    <menuitem name="Etiquetas" id="config_tags" parent="menu_config"
              action="standard_tags_action_window"/>


  </data>
</odoo>
