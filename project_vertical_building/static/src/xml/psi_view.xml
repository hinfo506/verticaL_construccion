<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <t t-name="project_vertical_view.LayoutOld" owl="1">
        <Layout viewType="'project_stage_item'">
            <!-- <div class="d-flex flex-column p-2 jorge"> -->
            <div class="position-absolute d-flex flex-column p-2" style="bottom: 0px; left: 0px; right: 0px; top:0px; overflow: hidden;">
                <div class="d-flex flex-row h-100">
                    <div class="border" style="overflow-y: auto;">
                        <p>Project Navigator</p>
                        <div class="context-menu-item" t-foreach="model.data" t-as="record" t-key="record.id" t-att-data-id="record.id" style="cursor: pointer;">
                            <t t-esc="record.name"/>
                        </div>
                    </div>
                    <div class="border flex-grow-1">
                        <p>Contenido principal</p>
                        <div class="table-responsive">
                            <table class="table table-sm table-hover table-striped">
                                <thead>
                                    <th>N° Partida</th>
                                    <th>Nombre Fase</th>
                                    <th>Finaliza</th>
                                    <th>Cantidad</th>
                                    <th>Total</th>
                                    <th>Tipo de Fase</th>
                                </thead>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </Layout>
    </t>

    <t t-name="project_vertical_view.Layout" owl="1">
        <Layout viewType="'project_stage_item'">
            <!-- <div class="d-flex flex-column p-2 jorge"> -->
            <div class="position-absolute d-flex flex-column p-2" style="bottom: 0px; left: 0px; right: 0px; top:0px; overflow: hidden;">
                <div class="d-flex flex-row h-100">
                    <!-- SearchPanel -->
                    <div class="o_search_panel">
                        <section t-foreach="model.projectStageItemData" t-as="project" t-key="project.project_id[0]" class="o_search_panel_section o_search_panel_category">
                            <header class="o_search_panel_section_header text-uppercase">
                                <!-- <i t-attf-class="fa {{ project.icon }} o_search_panel_section_icon mr-2" t-att-style="project.color and ('color: ' + project.color)" /> -->
                                <b t-esc="project.project_id[1]"/>
                            </header>
                            <ul class="list-group d-block o_search_panel_field">
                                <t t-call="{{ constructor.subTemplates.stage }}">
                                <!-- fix me! -->
                                    <t t-set="values" t-value="project.vertical_stage_ids"/>
                                </t>
                            </ul>
                        </section>
                    </div>
                    <!-- <div class="border" style="overflow-y: auto;">
                        <p>Project Navigator</p>
                        <div class="context-menu-item" t-foreach="model.data" t-as="record" t-key="record.id" t-att-data-id="record.id" style="cursor: pointer;">
                            <t t-esc="record.name"/>
                        </div>
                    </div> -->
                    <!-- SearchPanel -->
                    <div class="border flex-grow-1">
                        <p>Contenido principal</p>
                        <div class="table-responsive">
                            <table class="table table-sm table-hover table-striped">
                                <thead>
                                    <th>N° Partida</th>
                                    <th>Nombre Fase</th>
                                    <th>Finaliza</th>
                                    <th>Cantidad</th>
                                    <th>Total</th>
                                    <th>Tipo de Fase</th>
                                </thead>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </Layout>
    </t>

    <t t-name="project_vertical_view.Stage" owl="1">
        <t t-foreach="values" t-as="value" t-key="value.id">
            <li class="o_search_panel_category_value list-group-item border-0">
                <header class="list-group-item-action"
                    t-att-class="{ active: state.active[project.id] === value.id }"
                    t-on-click="toggleCategory(section, value)"
                    >
                    <!-- <label class="o_search_panel_label mb0" t-att-class="{ o_with_counters: section.enableCounters }"> -->
                    <label class="o_search_panel_label mb0">
                        <div class="o_toggle_fold">
                            <t t-log="state"/>
                            <i t-if="value.vertical_stage_ids.length"
                                t-attf-class="fa fa-caret-{{ state.expanded[project.id][value.id] ? 'down' : 'right' }}"
                            />
                        </div>
                        <!-- <b t-if="value.bold" class="o_search_panel_label_title" t-esc="value.display_name"/> -->
                        <!-- <b t-if="value.bold" class="o_search_panel_label_title" t-esc="value.name"/> -->
                        <!-- <span t-else="" class="o_search_panel_label_title" t-esc="value.display_name"/> -->
                        <span class="o_search_panel_label_title" t-esc="value.name"/>
                    </label>
                    <!-- <span t-if="section.enableCounters and value.__count gt 0"
                        class="o_search_panel_counter text-muted ml-2 small"
                        t-esc="value.__count"
                    /> -->
                </header>
                <ul t-if="value.vertical_stage_ids.length and state.expanded[project.id][value.id]" class="list-group d-block">
                    <t t-call="{{ constructor.subTemplates.stage }}">
                        <t t-set="values" t-value="value.vertical_stage_ids"/>
                    </t>
                </ul>
            </li>
        </t>
    </t>
</templates>